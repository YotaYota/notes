<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Clean Architecture - Notes</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="network/network.html"><strong aria-hidden="true">1.</strong> Network</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="network/letsencrypy.html"><strong aria-hidden="true">1.1.</strong> letsencrypt</a></li><li class="chapter-item expanded "><a href="network/netconf_yang.html"><strong aria-hidden="true">1.2.</strong> NETConf YANG</a></li><li class="chapter-item expanded "><a href="network/tls.html"><strong aria-hidden="true">1.3.</strong> SSL/TLS</a></li></ol></li><li class="chapter-item expanded "><a href="js/js.html"><strong aria-hidden="true">2.</strong> Javascript</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="js/angular.html"><strong aria-hidden="true">2.1.</strong> angular</a></li><li class="chapter-item expanded "><a href="js/jest.html"><strong aria-hidden="true">2.2.</strong> jest</a></li><li class="chapter-item expanded "><a href="js/js.html"><strong aria-hidden="true">2.3.</strong> js</a></li><li class="chapter-item expanded "><a href="js/react.html"><strong aria-hidden="true">2.4.</strong> react</a></li></ol></li><li class="chapter-item expanded "><a href="python/main.html"><strong aria-hidden="true">3.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="python/dist.html"><strong aria-hidden="true">3.1.</strong> dist</a></li></ol></li><li class="chapter-item expanded "><a href="aws/aws.html"><strong aria-hidden="true">4.</strong> AWS</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="aws/api_gateway.html"><strong aria-hidden="true">4.1.</strong> API Gateway</a></li><li class="chapter-item expanded "><a href="aws/ccp.html"><strong aria-hidden="true">4.2.</strong> CCP</a></li><li class="chapter-item expanded "><a href="aws/cli.html"><strong aria-hidden="true">4.3.</strong> CLI</a></li><li class="chapter-item expanded "><a href="aws/cognito.html"><strong aria-hidden="true">4.4.</strong> Cognito</a></li><li class="chapter-item expanded "><a href="aws/dynamodb.html"><strong aria-hidden="true">4.5.</strong> DynamoDB</a></li><li class="chapter-item expanded "><a href="aws/static_website.html"><strong aria-hidden="true">4.6.</strong> Static Website</a></li><li class="chapter-item expanded "><a href="aws/iam.html"><strong aria-hidden="true">4.7.</strong> IAM</a></li><li class="chapter-item expanded "><a href="aws/lambda.html"><strong aria-hidden="true">4.8.</strong> Lambda</a></li></ol></li><li class="chapter-item expanded "><a href="linux/linux.html"><strong aria-hidden="true">5.</strong> Linux - Systemd</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="linux/systemd.html"><strong aria-hidden="true">5.1.</strong> systemd</a></li><li class="chapter-item expanded "><a href="linux/users-groups.html"><strong aria-hidden="true">5.2.</strong> users-groups</a></li><li class="chapter-item expanded "><a href="linux/deb_pkg.html"><strong aria-hidden="true">5.3.</strong> Debian Packaging</a></li><li class="chapter-item expanded "><a href="linux/essential_tools.html"><strong aria-hidden="true">5.4.</strong> Essential Tools</a></li><li class="chapter-item expanded "><a href="linux/iproute2.html"><strong aria-hidden="true">5.5.</strong> IProute2</a></li><li class="chapter-item expanded "><a href="linux/wireguard.html"><strong aria-hidden="true">5.6.</strong> Wireguard</a></li><li class="chapter-item expanded "><a href="linux/kvm.html"><strong aria-hidden="true">5.7.</strong> KVM</a></li><li class="chapter-item expanded "><a href="linux/logging.html"><strong aria-hidden="true">5.8.</strong> Logging</a></li><li class="chapter-item expanded "><a href="linux/lutris.html"><strong aria-hidden="true">5.9.</strong> Lutris</a></li><li class="chapter-item expanded "><a href="linux/nftables.html"><strong aria-hidden="true">5.10.</strong> nftables</a></li><li class="chapter-item expanded "><a href="linux/screen.html"><strong aria-hidden="true">5.11.</strong> screen</a></li><li class="chapter-item expanded "><a href="linux/wine.html"><strong aria-hidden="true">5.12.</strong> Wine</a></li></ol></li><li class="chapter-item expanded "><a href="rust/rust.html"><strong aria-hidden="true">6.</strong> rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rust/rust_web_app.html"><strong aria-hidden="true">6.1.</strong> Web App</a></li><li class="chapter-item expanded "><a href="rust/bevy.html"><strong aria-hidden="true">6.2.</strong> Bevy</a></li></ol></li><li class="chapter-item expanded "><a href="gpg.html"><strong aria-hidden="true">7.</strong> gpg</a></li><li class="chapter-item expanded "><a href="ssh.html"><strong aria-hidden="true">8.</strong> ssh</a></li><li class="chapter-item expanded "><a href="yubikey.html"><strong aria-hidden="true">9.</strong> yubikey</a></li><li class="chapter-item expanded "><a href="git.html"><strong aria-hidden="true">10.</strong> git</a></li><li class="chapter-item expanded "><a href="neovim.html"><strong aria-hidden="true">11.</strong> neovim</a></li><li class="chapter-item expanded "><a href="compdocs.html"><strong aria-hidden="true">12.</strong> compdocs</a></li><li class="chapter-item expanded "><a href="cpp.html"><strong aria-hidden="true">13.</strong> C++</a></li><li class="chapter-item expanded "><a href="docker.html"><strong aria-hidden="true">14.</strong> Docker</a></li><li class="chapter-item expanded "><a href="flatbuffers.html"><strong aria-hidden="true">15.</strong> flatbuffers</a></li><li class="chapter-item expanded "><a href="protbuf.html"><strong aria-hidden="true">16.</strong> protbuf</a></li><li class="chapter-item expanded "><a href="geojson.html"><strong aria-hidden="true">17.</strong> geojson</a></li><li class="chapter-item expanded "><a href="java.html"><strong aria-hidden="true">18.</strong> Java</a></li><li class="chapter-item expanded "><a href="jwt.html"><strong aria-hidden="true">19.</strong> JWT</a></li><li class="chapter-item expanded "><a href="kubernetes.html"><strong aria-hidden="true">20.</strong> Kubernetes</a></li><li class="chapter-item expanded "><a href="patterns.html"><strong aria-hidden="true">21.</strong> Patterns</a></li><li class="chapter-item expanded "><a href="puppet.html"><strong aria-hidden="true">22.</strong> puppet</a></li><li class="chapter-item expanded "><a href="raid.html"><strong aria-hidden="true">23.</strong> RAID</a></li><li class="chapter-item expanded "><a href="scrum.html"><strong aria-hidden="true">24.</strong> SCRUM</a></li><li class="chapter-item expanded "><a href="serverless-framework.html"><strong aria-hidden="true">25.</strong> serverless-framework</a></li><li class="chapter-item expanded "><a href="spring.html"><strong aria-hidden="true">26.</strong> Spring</a></li><li class="chapter-item expanded "><a href="sql.html"><strong aria-hidden="true">27.</strong> SQL</a></li><li class="chapter-item expanded "><a href="terraform.html"><strong aria-hidden="true">28.</strong> Terraform</a></li><li class="chapter-item expanded "><a href="clean_architecture.html" class="active"><strong aria-hidden="true">29.</strong> Clean Architecture</a></li><li class="chapter-item expanded "><a href="vocabulary.html"><strong aria-hidden="true">30.</strong> Vocabulary</a></li><li class="chapter-item expanded "><a href="work_strategy.html"><strong aria-hidden="true">31.</strong> Work Stratrgy</a></li><li class="chapter-item expanded "><a href="project.html"><strong aria-hidden="true">32.</strong> Project</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Notes</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="clean-architecture"><a class="header" href="#clean-architecture">Clean Architecture</a></h1>
<h2 id="design-and-architecture"><a class="header" href="#design-and-architecture">Design and Architecture</a></h2>
<p>When software design done right, the maintaining phase is identified by:</p>
<ul>
<li>Requires a fraction of the human resources.</li>
<li>Changes are simple and rapid.</li>
<li>Defects are few and far between.</li>
<li>Effort is minimized.</li>
<li>Functionality and flexibility are maximized.</li>
</ul>
<h3 id="definition"><a class="header" href="#definition">Definition</a></h3>
<pre><code class="language-emph">The goal of software architecture is to minimize the human resources required to
build and maintain the required system.
</code></pre>
<p>The <em>measure</em> of design quality is the effort required to meet the needs of the customer.
If the effort is low, and stays low throughout the lifetime of the system, the
design is good. If that effort grows with each new release, the design is bad.</p>
<p>To build a system with a design and an architecture that minimize effort and
maximize productivity, you need to know which attributes of system architecture
lead to that end.</p>
<h3 id="behaviour-and-structure"><a class="header" href="#behaviour-and-structure">Behaviour and Structure</a></h3>
<p>Behaviour and structure are two values that needs to remain high.</p>
<p>A change must be easy to make.</p>
<p>The difficulty of a change should only be proportional to the scope of the change,
and not the shape of the change.</p>
<p>If the difficulty of change <em>is</em> proportional to the shape of the change, then
the cost of development will increase over time.</p>
<p>It's a quality of the architecture that it might prefer a certain shape over
another, but this will make new features harder and harder to implement.
Therefore architecture should be shape agnostical.</p>
<h2 id="paradigms"><a class="header" href="#paradigms">Paradigms</a></h2>
<p>Paradigms tell you which programming structures to use, and when to use them.</p>
<ul>
<li>Structured programming</li>
<li>Object-oriented programming</li>
<li>Functional programming</li>
</ul>
<p>These three paradigms impose dicipline in different ways</p>
<ul>
<li>Structured programming imposes dicipline on direct transfer of control.</li>
<li>Object-oriented programming imposes dicipline on indirect transfer of control.</li>
<li>Functional programming imposes dicipline upon assignment.</li>
</ul>
<p>These diciplines are linked to architecture</p>
<ul>
<li>We use structured programming as the algorithmic foundation of our modules.</li>
<li>We use polymorphism as the mechanism to cross architectural boundaries.</li>
<li>We use functional programming to impose dicipline on the location of and
access to data.</li>
</ul>
<h3 id="structured-programming"><a class="header" href="#structured-programming">Structured Programming</a></h3>
<p>Recursively decompose a program into a set of small provable functions. We can
then use tests to try and prove those small provable functions incorrect. If
such tests fail to prove incorrectness, then we deem the functions to be correct
enough for our purposes.</p>
<h3 id="object-oriented-programming"><a class="header" href="#object-oriented-programming">Object-oriented Programming</a></h3>
<p><em>Dependency inversion</em>: the code using another, does not need to name it.</p>
<p>Since OO languages provide safe and convinient polymorphism means that any
source code dependency, no matter where it is, can be inverted (by using interfaces).</p>
<p>OO languages means that software architects have absolute control over the
direction of source code dependencies.</p>
<p>OO is the ability, through the use of polymorphism, to gain absolute control
over every source code dependency in the system. It allows the architect to
create a plugin architecture, in which modules that that contain high-level
policies are independent of modules that contain low-level details. The
low-level details are regulated to plugin modules that can be deployed and
developed independently from the modules that contain high-level policies.</p>
<h3 id="functional-programming"><a class="header" href="#functional-programming">Functional Programming</a></h3>
<p>Variables in functional languages do not vary.</p>
<p>Immutability means no problems with race conditions, deadlock conditions or
concurrent update problems.</p>
<h4 id="segregation-of-mutability"><a class="header" href="#segregation-of-mutability">Segregation of Mutability</a></h4>
<p>A common practice is to segregate the application into immutable and mutable
components. Mutable components needs to be safeguarded from concurrency by
transactions. It is wise to push as much processing as possible into the
immutable components, and use as little as possible in the mutable components.</p>
<h4 id="event-sourcing"><a class="header" href="#event-sourcing">Event Sourcing</a></h4>
<p>Store the transactions, not the state.</p>
<h2 id="design-principles"><a class="header" href="#design-principles">Design Principles</a></h2>
<h3 id="solid-principles"><a class="header" href="#solid-principles">SOLID Principles</a></h3>
<ul>
<li>SRP: The Single Responsibility Principle</li>
<li>OCP: The Open-Closed Principle</li>
<li>LSP: The Liskov Substitution Principle</li>
<li>ISP: The Interface Segregation Principle</li>
<li>DIP: The Dependency Inversion Principle</li>
</ul>
<p>The goal of the principles is the creation of mid-level software structures that</p>
<ul>
<li>Tolerate change</li>
<li>Are easy to understand</li>
<li>Are the basis of components that can be used in many software systems</li>
</ul>
<h4 id="srp-the-single-responsibility-principle"><a class="header" href="#srp-the-single-responsibility-principle">SRP: The Single Responsibility Principle</a></h4>
<p>Each software module should have one, and only one, reason to change. Or more accurate</p>
<p><em>A module should be responsible to one, and only one, actor.</em></p>
<p>Here, a <em>module</em> can be thought of as a source file.</p>
<p>An <em>actor</em> can be thought of as a common group of stakeholders.</p>
<p>The SRP comes at play, for example, when different modules uses the same
algorithm. SRP then states that the modules should <em>not</em> be merged, because at a
later time one part using the algorithm might need a change but not the other.</p>
<p>[In this scenario, SRP actually promotes duplication of code.]</p>
<p>The SRP appears at three different levels</p>
<ul>
<li>Functions and classes</li>
<li>Components (<em>Common Closure Principle</em>)</li>
<li>Architectural (<em>Axis of Change</em>)</li>
</ul>
<h4 id="ocp-the-open-closed-principle"><a class="header" href="#ocp-the-open-closed-principle">OCP: The Open-Closed Principle</a></h4>
<p>For software systems to be easy to change, they must be designed to allow the
behaviour of those systems to be changed by adding new code, rather than
changing existing code.</p>
<p>If component A should be protected from changes in component B, then component B
should depend on component A.</p>
<p>The goal is to make the system easy to extend without incurring a high impact of
change. This goal is acomplished by partitioning the system into components,
and arranging those components into a dependency hierarchy that protects
higher-level components from changes in lower-level components.</p>
<h4 id="lsp-the-liskov-substitution-principle"><a class="header" href="#lsp-the-liskov-substitution-principle">LSP: The Liskov Substitution Principle</a></h4>
<p>To build a system from interchangeable parts, those parts must adhere to to a
contract that allows those parts to be substituted one for another.</p>
<p>Barbara Liskov defined subtypes in terms of a substitution property:</p>
<pre><code class="language-definition">If for each object o1 of type S, there is an object o2 of type T such that for
all programs P defined in terms of T, the behaviour of P is unchanged when o1 is
substituted for o2, then S is a subtype of T.
</code></pre>
<h4 id="isp-the-interface-segregation-principle"><a class="header" href="#isp-the-interface-segregation-principle">ISP: The Interface Segregation Principle</a></h4>
<p>In general it is harmful to depend on things that contain more than you need. A
change in such a module would require changes in modules that should not be
affected by the change.</p>
<h4 id="dip-the-dependency-inversion-principle"><a class="header" href="#dip-the-dependency-inversion-principle">DIP: The Dependency Inversion Principle</a></h4>
<p>Code that implements high-level policy should not depend on the code that
implements low-level details. Rather, details should depend on policies.</p>
<p>The most flexible systems are those in which source code refers only to
abstractions, not to concretions.</p>
<ul>
<li>Don't refer to volatile concrete classes. (Refer to abstract interfaces
instead, creation of objects should in general use <em>Abstract Factories</em>).</li>
<li>Don't derive from volatile concrete classes.</li>
<li>Don't override concrete functions.</li>
<li>Never mention the name of anything concrete and volatile.</li>
</ul>
<p>DIP violations cannot be entirely removed, but they can be gathered into a small
number of concrete components and kept separate from the rest of the system.</p>
<p><strong>Note</strong>: Dependency Injection is <em>one</em> way to achieve this.</p>
<h2 id="components"><a class="header" href="#components">Components</a></h2>
<p>Components are the units of deployment. Well designed components always retain
the ability to be independently deployable, and therefore also independently developable.</p>
<h3 id="component-cohesion"><a class="header" href="#component-cohesion">Component Cohesion</a></h3>
<ul>
<li>REP: The Reuse/Release Equivalence Principle</li>
<li>CCP: The Common Closure Principle</li>
<li>CRP: The Common Reuse Principle</li>
</ul>
<h4 id="rep-the-reuserelease-equivalence-principle"><a class="header" href="#rep-the-reuserelease-equivalence-principle">REP: The Reuse/Release Equivalence Principle</a></h4>
<p><em>The granule of reuse is the granule of release.</em></p>
<p>Classes and and modules that are formed into a component must belong to a
cohesive group. Classes and modules that are grouped together into a component
should be <em>releaseable</em> together. I.e. if classes and modules are released under
the same version, it should make sense.</p>
<h4 id="ccp-the-common-closure-principle"><a class="header" href="#ccp-the-common-closure-principle">CCP: The Common Closure Principle</a></h4>
<p><em>Gather into components those classes that change for the same reasons and at
the same times. Separate into different components those classes that change at
different times and for different reasons.</em></p>
<p>A component should not have multiple reasons to change (see SRP).</p>
<p>If changes are confined to a single component, then we need only to redeploy the
changed component, which in turn lowers to effort of change.</p>
<p>Group into components that are likely to change for the same reasons and are
closed to the same type of changes.</p>
<h4 id="crp-the-common-reuse-principle"><a class="header" href="#crp-the-common-reuse-principle">CRP: The Common Reuse Principle</a></h4>
<p><em>Don't force users of a component to depend on things they don't need.</em></p>
<p>Classes and modules that tend to change together belong in the same component,
and vice verca.</p>
<p>Classes in a component should be inseparable.</p>
<h4 id="rep-ccp-and-crp-interplay"><a class="header" href="#rep-ccp-and-crp-interplay">REP, CCP and CRP Interplay</a></h4>
<p>REP and CCP are <em>inclusive</em> driving components to be larger. CRP is <em>exclusive</em>,
driving components to be smaller.</p>
<p>REP: group for reuse.
CCP: Group for maintenance.
CRP: Split to avoid unneeded releases.</p>
<ul>
<li>REP and CRP: Too many components are impacted when simple changes are made.</li>
<li>CCP and REP: Too many unneeded releases to be generated.</li>
<li>CRP and CCP: Hard to reuse.</li>
</ul>
<h3 id="component-coupling"><a class="header" href="#component-coupling">Component Coupling</a></h3>
<p>Component dependency diagrams have very little to do with describing the
function of the application. Rather, they're a build of the <em>buildability</em> and
<em>maintainability</em> of the application. Hence, they are not designed at the
beginning of the project.</p>
<h4 id="adp-the-acyclic-dependencies-principle"><a class="header" href="#adp-the-acyclic-dependencies-principle">ADP: The Acyclic Dependencies Principle</a></h4>
<p>The component dependency graph must be a <em>DAG</em> (Directed Acyclic Graph).</p>
<p>For solving non-DAG structures, either</p>
<ul>
<li>apply DIP, or</li>
<li>create a new component that both depend on.</li>
</ul>
<h4 id="sdp-the-stable-dependency-principle"><a class="header" href="#sdp-the-stable-dependency-principle">SDP: The Stable Dependency Principle</a></h4>
<p>Depend in the direction of stability.</p>
<p>An instability metric:</p>
<pre><code>I = Fan out / (Fan in + Fan out)
</code></pre>
<p>The metric I should decrease in the direction of dependency.</p>
<h4 id="sap-the-stable-abstractions-principle"><a class="header" href="#sap-the-stable-abstractions-principle">SAP: The Stable Abstractions Principle</a></h4>
<p>A component should be as abstract as it is stable.</p>
<p>Software that encapsulated high-level policies should be placed in stable
components (I = 0). Unstable components (I = 0) should contain onlt the software
that is volatile, that we want to be easy to change.</p>
<p>An abstractness metric:</p>
<pre><code>A = no. classes in component / (no. abstract classes + no. interfaces)
</code></pre>
<h4 id="sap--sdp--dip-for-components"><a class="header" href="#sap--sdp--dip-for-components">SAP + SDP = DIP for Components</a></h4>
<p>SDP: dependencies should run in the direction of stability.</p>
<p>SAP: stability implies abstraction.</p>
<p>Thus: dependencies shold run in the direction of abstraction.</p>
<h4 id="relation-between-instability-and-abstraction"><a class="header" href="#relation-between-instability-and-abstraction">Relation Between Instability and Abstraction</a></h4>
<p>Instability and abstraction is inversly corrolated.</p>
<p><em>The Main Sequence</em></p>
<pre><code>A + I = 1
</code></pre>
<p><em>Zone of Pain</em> is where A and I are both close to 0 (e.g. databases). Volatile
components in this zone is problematic.</p>
<p><em>Zone of Uselessness</em> is where A and I are both close to 1.</p>
<p>Distance from the main sequence</p>
<pre><code>D = |A + I - 1|
</code></pre>
<p>any component that has a D metric that is not near zero should be restructured.</p>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<p>Systems architecture is the shape of the system:</p>
<ul>
<li>The division of that system into components,</li>
<li>The arrangement of the components,</li>
<li>The ways in which the components communicate with each other.</li>
</ul>
<p>The ultimate purpose of the architecture is to</p>
<ul>
<li>Minimize the lifetime cost of the system,</li>
<li>Maximize the programmer productivity.</li>
</ul>
<p>This is done by considering how the architecture:</p>
<ul>
<li>Facilitates the development,</li>
<li>Facilitates the deployment,</li>
<li>Facilitates the operation,</li>
<li>Facilitates the maintenance.</li>
</ul>
<p>Good architecture are systems that are:</p>
<ul>
<li>Easy to understand,</li>
<li>Easy to develop,</li>
<li>Easy to maintain,</li>
<li>Easy to develop.</li>
</ul>
<h3 id="keeping-options-open"><a class="header" href="#keeping-options-open">Keeping Options Open</a></h3>
<p>Software systems can be divided into two components: <em>Policy</em> and <em>Details</em>.</p>
<p>Policy: embodies all the business rules and procedures.</p>
<p>Details: things that are necessary to enable communicate with the policy, but
does not impact the policy.</p>
<p>Leave as many options open as possible, for as long as possible; the options
that are to be kept open are the details. This leaves room for making more
informed decisions.</p>
<p>Architecture should make policy the most essential part of the system while
making the details irrelevant to that policy.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="terraform.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="vocabulary.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="terraform.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="vocabulary.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
